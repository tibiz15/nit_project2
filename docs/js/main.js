!function(t){var e={};function i(n){if(e[n])return e[n].exports;var a=e[n]={i:n,l:!1,exports:{}};return t[n].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i.r(e);i(1);var n={categoryList:1,category:2,itemsList:3,item:4},a={welcome:1,catalog:2,login:3,register:4,profile:5,about:6};function o(t,e){this.id=t,this.quantity=e}var r,c=[],l=["#logo_link","#catalog_link","#profile_link","#signin_link","#about_link"],d=a.welcome,s=n.categoryList,u=1,p=1,m=0,f=0,g="",v="",h="";function _(t,e){for(var i=0;i<t.length;i++)$(t[i]).removeClass("active");$(e).addClass("active")}function w(t,e){if(c.length<=0)c.push(new o(t,1));else{var i=!1;for(var n in c)c[n].id==t&&(c[n].quantity+=e,i=!0);i||c.push(new o(t,1))}var a="Your item",r="https://nit.tron.net.ua/api/product/"+t;$.ajax({url:r,type:"GET",dataType:"json",success:function(t){a=t.name,$("#catalog").append("<div class='alert'><span>"+a+" was successfully added to your cart!</span></div>"),setTimeout(function(){$(".alert").fadeOut("slow",function(){$(".alert").remove()})},2e3),$(".alert").click(function(){$(this).remove()})},error:function(t){$("#catalog").append("<div class='alert'><span>"+a+" was successfully added to your cart!</span></div>"),setTimeout(function(){$(".alert").fadeOut("slow",function(){$(".alert").remove()})},2e3),$(".alert").click(function(){$(this).remove()})}})}function y(t,e){if(0==(e=e||0)){for(var i in c)if(c[i].id===t)return void c.splice(i,1)}else for(var i in c)c[i].id==t&&(c[i].quantity+=e,c[i].quantity<=1&&(c[i].quantity=1))}function b(t){for(var e in c)if(c[e].id==t)return c[e].quantity;return 0}function k(t){if($("#content").empty(),t==a.welcome)$("#content").html("<div id='welcome'>(TODO)Welcome page</div>");else if(t==a.login)$("#content").html("<div id='login'>(TODO)Login page</div>");else if(t==a.register)$("#content").html("<div id='register'>(TODO)Register page</div>");else if(t==a.profile){$("#content").append("<div id='filter_menu'>Profile page</div>"),$("#content").append("<div id='container'></div>"),$("#container").append("<div id='order'>No items in your cart!</div>"),$("#container").append("<div id='submit_order'></div>"),$("#submit_order").append("            <p>Name: <input class='checkInput' id='input_name' placeholder='Name' type='text' value='"+g+"' required></p>            <p>Phone: +38<input class='checkInput' id='tel' placeholder='067-630-55-69' value='"+h+"' type='tel' required></p>            <p>Email: <input class='checkInput' id='mail' type='email' value='"+v+"' placeholder='Email' required></p>            <button id='submit_button' >Submit order</button>        "),$("#input_name").on("change paste keyup",function(){g=$("#input_name").val()}),$("#tel").on("change paste keyup",function(){h=$("#tel").val()}),$("#mail").on("change paste keyup",function(){v=$("#mail").val()}),$("#submit_button").click(function(){var t={token:"_5Uln5xxlVh4oypPpkUW",name:$("#input_name").val(),phone:$("#tel").val(),email:$("#mail").val()};if(t.name.length>=2)if(new RegExp("^0([0-9]{2})[-. ]{0,1}([0-9]{3})[-. ]{0,1}([0-9]{2})[-. ]{0,1}([0-9]{2})$").test(t.phone))if(new RegExp("^([a-zA-Z0-9._-]+)@([a-zA-Z0-9]+)[.]([a-zA-Z]+)$").test(t.email)){var e="token="+t.token+"&name="+t.name+"&phone=+38"+t.phone+"&email="+t.email;for(var i in c)e+="&products["+c[i].id+"]="+c[i].quantity;console.log(e),c.length>=1&&$.ajax({url:"https://nit.tron.net.ua/api/order/add",type:"POST",data:e,dataType:"json",success:function(t){$("#container").append("<div class='alert'><span>Your order was succesfully created!We will deliver your order within few days.</span></div>"),setTimeout(function(){$(".alert").fadeOut("slow",function(){$(".alert").remove()})},2e3),$(".alert").click(function(){$(this).remove()}),console.log(t.status||"Unexpected...")},error:function(t){alert("Error while loading data!")}})}else alert("Wrong email format!");else alert("Wrong phone number format!");else alert("Name can't be empty!")}),c.length>=1&&$("#order").empty(),$(document).off("click",".removeFromCart"),$(document).off("click",".minusBtn"),$(document).off("click",".plusBtn");var e=0,i=0;for(var o in c){var l="https://nit.tron.net.ua/api/product/"+c[o].id;$.ajax({url:l,type:"GET",dataType:"json",success:function(t){name=t.name;var n=t.price;null!=t.special_price&&(n=t.special_price),e+=b(t.id)*n;var a="";i+1==c.length&&(a="Total: "+e+"uah"),i++,$("#order").append("<div class= 'order_item' >                        <div>                            <button class='removeFromCart' id='"+t.id+"'>x</button>                            <button class='minusBtn' id='"+t.id+"'>-</button>                            <span id='span"+t.id+"'>  "+b(t.id)+"</span>                            <button class='plusBtn' id='"+t.id+"'>+</button>                        </div>                        <div>"+name+"("+n+"uah) - "+b(t.id)*n+"uah</div>                    </div>                    <div class='order_item'>"+a+"</div>")},error:function(t){alert("error")}})}$(document).on("click",".removeFromCart",function(t){y(t.target.id,0),function(){for(var t in c)c[t].id,c[t].quantity}(),$(window).trigger("customReloadCatalog")}),$(document).on("click",".minusBtn",function(t){var e=t.target.id;y(e,-1),$("#span"+e).text(b(e)),$(window).trigger("customReloadCatalog")}),$(document).on("click",".plusBtn",function(t){var e=t.target.id;y(e,1),$("#span"+e).text(b(e)),$(window).trigger("customReloadCatalog")})}else if(t==a.about)$("#content").append("    <div id='aboutus'>        <p class='title'>Black&White</p>        <p class='description'>Black&White is a new online clothes shop, designed specially for teens and            youth.With it's outstanding            procuts and quality it is the favourite shop for young people,who always want to be stylish and            confident.Established in 2018,it has proven that people love the shop and it's products.If you want            some additional information,feel free to contact us:        </p>        <div id='social'>            <button><a href='mailto:bandw@support.com'>                bandw@support.com            </a></button>            <button><a href='tel:+380676305569'>                +380676305569            </a></button>            <button id='fb-share'><a href='https://www.facebook.com/sharer/sharer.php?u=bandw.com' target='_blank'>                    Share                </a></button>            <button id='tweet'><a href='https://twitter.com/share?ref_src=twsrc%5Etfw' data-size='large' data-lang='uk'                    data-show-count='false' target='_blank'>Tweet</a></button>        </div>    </div>    ");else if(t==a.catalog)if($("#content").append("<div id='catalog'></div>"),$("#catalog").append("<div id='filter_menu'></div>"),s==n.categoryList)$("#filter_menu").append("<span>List of all categories:</span>"),$("#filter_menu").append("<button id='all_items'>All items</button>"),$("#catalog").append("<div id='list'></div>"),$("#all_items").click(function(){r=s,s=n.itemsList,$(window).trigger("customReloadCatalog")}),$(window).scroll(function(){f=$(window).scrollTop()}),$.ajax({url:"https://nit.tron.net.ua/api/category/list",type:"GET",dataType:"json",success:function(t){for(var e=t,i=0;i<e.length;i++)$("#list").append("<div class='category_card' id='"+e[i].id+"'>                            <p class='category_link'>"+e[i].name+"</p>                        </div>");r!=n.category&&r!=n.itemsList||$(window).scrollTop(f),$(".category_link").click(function(){u=$(this).parent().attr("id"),r=s,s=n.category,$(window).unbind("scroll"),$(window).trigger("customReloadCatalog")}),$(".category_card").click(function(){u=$(this).attr("id"),r=s,s=n.category,$(window).unbind("scroll"),$(window).trigger("customReloadCatalog")})},error:function(t){alert("Error while loading data!")}});else if(s==n.category)$("#catalog").empty(),$("#catalog").append("<div id='filter_menu'></div>"),$("#filter_menu").append("<button id='back_category'>< Back to all categories</button>"),$(window).scroll(function(){m=$(window).scrollTop()}),$("#back_category").click(function(){r=s,s=n.categoryList,$(window).trigger("customReloadCatalog")}),$.ajax({url:"https://nit.tron.net.ua/api/category/"+u,type:"GET",dataType:"json",success:function(t){var e=t.name,i=t.description;$("#catalog").append("<div id='cat_info'>                        <p>Category name: "+e+"</p>                        <p>Description: "+i+"</p>                    </div>"),$("#catalog").append("<div id='list'></div>"),$.ajax({url:"https://nit.tron.net.ua/api/product/list/category/"+u,type:"GET",dataType:"json",success:function(t){for(var e=t,i=0;i<e.length;i++){var a="<p class='item_price'>"+e[i].price+"uah</p>";null!=e[i].special_price&&(a="<p class='item_price' ><span style='text-decoration: line-through;'>"+e[i].price+"uah </span><span>"+e[i].special_price+"uah</span></p>"),$("#list").append("<div class='card'>                                    <div class='cont' id='"+e[i].id+"'>                                        <div class='img_div'>                                            <img src='"+e[i].image_url+"'>                                        </div>                                        <p style='cursor:pointer;' class='item_name'>"+e[i].name+"</p>"+a+"<div class='item_btn_container'>                                            <button class='item_basket_add' id='"+e[i].id+"'>Add to cart</button>                                        </div>                                    </div>                                </div>")}$(".item_basket_add").on("click",function(){w($(this).attr("id"),0)}),$(".img_div").on("click",function(){p=$(this).parent().attr("id"),r=s,s=n.item,$(window).unbind("scroll"),$(window).trigger("customReloadCatalog")}),$(".item_name").on("click",function(){p=$(this).parent().attr("id"),r=s,s=n.item,$(window).unbind("scroll"),$(window).trigger("customReloadCatalog")}),r==n.item&&$(window).scrollTop(m)},error:function(t){alert("Error while loading data!")}})},error:function(t){alert("Error while loading data!")}});else if(s==n.itemsList)$("#filter_menu").append("<span>List of all items:</span>"),$("#filter_menu").append("<button id='all_categories'>All categories</button>"),$("#catalog").append("<div id='list'></div>"),$("#all_categories").click(function(){r=s,s=n.categoryList,$(window).trigger("customReloadCatalog")}),$(window).scroll(function(){m=$(window).scrollTop()}),$.ajax({url:"https://nit.tron.net.ua/api/product/list",type:"GET",dataType:"json",success:function(t){for(var e=t,i=0;i<e.length;i++){var a="<p class='item_price'>"+e[i].price+"uah</p>";null!=e[i].special_price&&(a="<p class='item_price' ><span style='text-decoration: line-through;'>"+e[i].price+"uah </span><span>"+e[i].special_price+"uah</span></p>"),$("#list").append("<div class='card'>                            <div class='cont' id='"+e[i].id+"'>                                <div class='img_div'>                                    <img src='"+e[i].image_url+"'>                                </div>                                <p style='cursor:pointer;' class='item_name'>"+e[i].name+"</p>"+a+"<div class='item_btn_container'>                                    <button class='item_basket_add' id='"+e[i].id+"'>Add to cart</button>                                </div>                            </div>                        </div>")}$(".item_basket_add").on("click",function(){w($(this).attr("id"),0)}),$(".img_div").on("click",function(){p=$(this).parent().attr("id"),r=s,s=n.item,$(window).unbind("scroll"),$(window).trigger("customReloadCatalog")}),$(".item_name").on("click",function(){p=$(this).parent().attr("id"),r=s,s=n.item,$(window).unbind("scroll"),$(window).trigger("customReloadCatalog")}),r==n.item&&$(window).scrollTop(m)},error:function(t){alert("Error while loading data!")}});else if(s==n.item){l="https://nit.tron.net.ua/api/product/"+p;$.ajax({url:l,type:"GET",dataType:"json",success:function(t){var e=t,i="all items";r==n.category&&(i="category"),$("#catalog").empty(),$("#catalog").append("<div id='filter_menu'></div>"),$("#filter_menu").append("<button id='back_item'>< Back to "+i+"</button>"),$("#catalog").append("<div id='item_page'></div>"),$("#back_item").click(function(){s=r,r=n.item,$(window).trigger("customReloadCatalog")});var a="<div id='price_and_button'><p>"+e.price+"uah";null!=e.special_price&&(a="<div id='price_and_button'><p><span style='text-decoration: line-through;'>"+e.price+"uah</span><span>"+e.special_price+"uah</span>"),a+="</p>",$("#item_page").append("                        <img src='"+e.image_url+"'>                        <p>"+e.name+"</p>                        <p id='desc'>"+e.description+"</p>"+a+"<button class='item_basket_add' id='"+e.id+"'>Add to cart</button></div>                    "),$(".item_basket_add").click(function(){w($(this).attr("id"),0)})},error:function(t){alert("Error while loading data")}})}}$(document).ready(function(){$("#header_helper").height($("#header_menu").outerHeight()),$(window).resize(function(){$("#header_helper").height($("#header_menu").outerHeight())}),$("#footer_helper").height($("#footer_menu").outerHeight()),$(window).resize(function(){$("#footer_helper").height($("#footer_menu").outerHeight())}),k(d),$("#logo_link").click(function(){d=a.welcome,_(l,l[0]),k(d)}),$(".header img").click(function(){d=a.welcome,_(l,l[0]),k(d)}),$("#catalog_link").click(function(){d=a.catalog,s=n.categoryList,r=n.categoryList,_(l,l[1]),k(d)}),$("#profile_link").click(function(){d=a.profile,_(l,l[2]),k(d)}),$("#signin_link").click(function(){d=a.login,_(l,l[3]),k(d)}),$("#about_link").click(function(){d=a.about,_(l,l[4]),k(d)}),$(window).on("customReloadCatalog",function(){k(d)})})},function(t,e,i){}]);